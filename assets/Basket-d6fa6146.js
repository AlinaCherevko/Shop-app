import{j as e,u as y,b as g,r as x}from"./index-ebde75a5.js";import{P as p,G as v}from"./GoodsList-0f703853.js";const N="_input_id8e7_1",S={input:N},l=s=>e.jsx("input",{className:S.input,...s}),b="_wrapper_30jgi_1",k="_form_30jgi_8",h={wrapper:b,form:k},j=({currency:s,total:a})=>{const r=y(g),n=t=>{t.preventDefault();const u={user:{name:t.currentTarget.elements.name.value,surname:t.currentTarget.elements.surname.value,address:t.currentTarget.elements.address.value,phone:t.currentTarget.elements.phone.value},goods:r,date:new Date().toISOString(),total:a,currency:s},i=JSON.stringify(u,null,2);console.log(i),t.currentTarget.reset()};return e.jsx("div",{className:h.wrapper,children:e.jsxs("form",{className:h.form,onSubmit:n,children:[e.jsx(l,{type:"text",placeholder:"NAME",name:"name"}),e.jsx(l,{type:"text",placeholder:"SURNAME",name:"surname"}),e.jsx(l,{type:"text",placeholder:"ADDRESS",name:"address"}),e.jsx(l,{type:"text",placeholder:"PHONE",name:"phone"}),e.jsx("button",{type:"submit",children:"ORDER"})]})})};j.propTypes={currency:p.string,total:p.string};const T=[{currency:"₴",exchangeRate:1,name:"UAN"},{currency:"$",exchangeRate:.0244,name:"USD"},{currency:"€",exchangeRate:.0224,name:"EUR"}],f={},_=({handleCurrencyRate:s})=>{const a=r=>{const{value:n}=r.currentTarget,t=r.currentTarget.selectedOptions[0].getAttribute("data-key");s(n,t)};return e.jsx("div",{children:e.jsx("select",{className:f.selector,onChange:a,children:T.map(({name:r,exchangeRate:n,currency:t})=>e.jsx("option",{value:n,"data-key":r,children:t},r))})})};_.propTypes={handleCurrencyRate:p.func};const R="_basket_17lvd_1",w="_wrapper_17lvd_5",A="_title_17lvd_8",E="_total_17lvd_11",D="_currencyWrapper_17lvd_14",c={basket:R,wrapper:w,title:A,total:E,currencyWrapper:D},O=()=>{const[s,a]=x.useState(1),[r,n]=x.useState("UAN"),t=y(g),u=t.reduce((d,o)=>d+ +o.price*o.quantity,0),i=(d,o)=>{a(d),n(o)},m=u*s;return e.jsxs("div",{className:c.basket,children:[e.jsx("h2",{className:c.title,children:"Your basket"}),t.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:c.wrapper,children:[e.jsx(v,{goods:t,showQuantityBtn:!0}),e.jsx(j,{currency:r,total:m.toFixed(2)})]}),e.jsxs("div",{className:c.currencyWrapper,children:[e.jsxs("h2",{className:c.total,children:["TOTAL: ",m.toFixed(2)]}),e.jsx(_,{handleCurrencyRate:i})]})]}):e.jsx("p",{children:"There are no goods in your basket"})]})};O.propTypes={totalPrice:p.number};export{O as default};
